@page "/"
@using blazer_lab9.Data
@inject CartService CartService

<h1>Welcome to My Shop</h1>

<div style="display: flex; flex-wrap: wrap; gap: 10px;">
    @foreach (var product in Products)
    {
        <blazer_lab9.Data.Product Product="@product" />
    }
</div>

<Cart />

@code {
    private List<blazer_lab9.Data.Product> Products = new()
    {
        new blazer_lab9.Data.Product { Id = 1, Name = "Laptop", Price = 1000m },
        new blazer_lab9.Data.Product { Id = 2, Name = "Headphones", Price = 200m },
        new blazer_lab9.Data.Product { Id = 3, Name = "Smartphone", Price = 800m }
    };

    protected override void OnInitialized()
    {
        CartService.LoadCart();
    }
}
